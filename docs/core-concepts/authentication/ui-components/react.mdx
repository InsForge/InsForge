---
title: React
description: Framework-agnostic authentication components for any React application
---

The `@insforge/react` package provides **complete authentication solution for React applications**. Use deployed auth pages (built-in auth) or custom UI componentsâ€”works with Vite + React Router.

<Tip>
**For AI Agents - Quick Navigation:**
- **Built-in auth (recommended)**: Follow [Quick Start](#quick-start) â†’ 5-minute setup with deployed auth pages
- **Custom UI needed**: See [Alternative: Custom UI Components](#alternative-custom-ui-components)
- **Styling & customization**: See [Customization Guide](/core-concepts/authentication/ui-components/customization)
- **Form components**: Jump to [Form Components](#form-components-pure-ui) for controlled UI
- **Hooks only**: See [Hooks](#hooks) for headless auth

**Key principle**: All components use `@insforge/sdk` methods internally. Framework-agnostic by design.
</Tip>

## Why @insforge/react?

<CardGroup cols={2}>
  <Card title="Built-in Auth Pages" icon="code">
    Deployed auth UI, easy to implement
  </Card>
  
  <Card title="5-Minute Setup" icon="clock">
    Provider + Router config = production-ready auth
  </Card>
  
  <Card title="Complete Package" icon="box">
    SDK integration, providers, hooks, and UI components
  </Card>
  
  <Card title="Full TypeScript" icon="shield-check">
    Complete type safety out of the box
  </Card>
</CardGroup>

<Note>
**Built-in auth (recommended)**: Use deployed authentication pages for zero UI code. Switch to custom components only if you need highly customized branding or additional form fields.
</Note>

## Features

- **Built-in Auth**: React Router integration with deployed auth pages (like Next.js middleware)
- **Complete Components**: Pre-built `<SignIn>`, `<SignUp>`, `<UserButton>` with business logic
- **OAuth Support**: Google, GitHub, Discord, Facebook, LinkedIn, Microsoft, Apple, X, Instagram, TikTok, Spotify
- **React Hooks**: `useAuth()`, `useUser()`, `usePublicAuthConfig()`
- **Control Components**: `<SignedIn>`, `<SignedOut>`, `<Protect>`
- **Form Components**: Pure UI forms for custom logic
- **Atomic Components**: Building blocks for complete customization
- **TypeScript**: Full type safety

## Installation

```bash
npm install @insforge/react
```

<Note>
**Required Dependencies:**
```bash
npm install react@^19.0.0 react-dom@^19.0.0 react-router-dom@^7.9.0 tailwindcss@^4.1.0
```
</Note>

## Quick Start

### Step 1: Setup Provider

Wrap your app with `InsforgeProvider` in the root:

```tsx src/main.tsx
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import { InsforgeProvider } from '@insforge/react';
import App from './App';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <InsforgeProvider baseUrl={import.meta.env.VITE_INSFORGE_BASE_URL}>
      <App />
    </InsforgeProvider>
  </StrictMode>
);
```

**Provider Props:**
- `baseUrl` (required): Your Insforge backend URL
- `onAuthChange` (optional): Callback when auth state changes
- `clearCookie` (optional): Custom function to clear cookie on sign out

### Step 2: Configure Router (Built-in Auth)

**The fastest way** - Use deployed auth pages with Layout pattern:

```tsx src/App.tsx
import { createBrowserRouter, RouterProvider } from 'react-router-dom';
import { getInsforgeRoutes } from '@insforge/react/router';
import Layout from './components/Layout';
import Home from './pages/Home';
import Dashboard from './pages/Dashboard';
import AuthCallback from './pages/AuthCallback';

const router = createBrowserRouter([
  {
    path: '/',
    element: <Layout />,
    children: [
      { index: true, element: <Home /> },
      
      // âœ… Required: Create callback route to handle authentication
      { path: 'auth/callback', element: <AuthCallback /> },
      
      { path: 'dashboard', element: <Dashboard /> }
    ]
  },
  
  // Add built-in auth redirect routes (sign-in, sign-up, forgot-password, etc.)
  ...getInsforgeRoutes({
    baseUrl: import.meta.env.VITE_INSFORGE_BASE_URL,
    builtInAuth: true  // Redirects to deployed auth pages
  })
]);

export default function App() {
  return <RouterProvider router={router} />;
}
```

```tsx src/pages/AuthCallback.tsx
import { InsforgeCallback } from '@insforge/react';

export default function AuthCallback() {
  return <InsforgeCallback redirectTo="/dashboard" />;
}
```

```tsx src/components/Layout.tsx
import { Outlet } from 'react-router-dom';

export default function Layout() {
  return (
    <div>
      <nav>{/* Your navigation */}</nav>
      <main>
        <Outlet />
      </main>
    </div>
  );
}
```

**What this does:**
- Visiting `/sign-in` â†’ Redirects to `your-project.insforge.app/auth/sign-in`
- Visiting `/sign-up` â†’ Redirects to `your-project.insforge.app/auth/sign-up`
- Visiting `/forgot-password` â†’ Redirects to `your-project.insforge.app/auth/forgot-password`
- Visiting `/reset-password` â†’ Redirects to `your-project.insforge.app/auth/reset-password`
- Visiting `/verify-email` â†’ Redirects to `your-project.insforge.app/auth/verify-email`
- After auth â†’ Redirects back to `/auth/callback` â†’ `<InsforgeCallback />` processes token â†’ Goes to dashboard

<Info>
**Built-in auth** means using your deployed Insforge authentication pages, just like `@insforge/nextjs` middleware. No UI code needed!
</Info>

### Step 3: Use Hooks & Components

```tsx src/pages/Home.tsx
import { SignedIn, SignedOut, UserButton, useAuth, useUser } from '@insforge/react';

export default function Home() {
  const { isSignedIn } = useAuth();
  const { user } = useUser();

  return (
    <div>
      <SignedOut>
        <a href="/sign-in">Sign In</a>
      </SignedOut>

      <SignedIn>
        <UserButton afterSignOutUrl="/" />
        <h1>Welcome, {user?.email}!</h1>
      </SignedIn>
    </div>
  );
}
```

**That's it!** ðŸŽ‰ Your React app now has production-ready authentication with built-in auth pages.

---

## Alternative: Custom UI Components

Want to use package components instead of built-in auth pages? Create custom auth pages:

```tsx src/App.tsx
import { createBrowserRouter, RouterProvider } from 'react-router-dom';
import { InsforgeCallback } from '@insforge/react';
import { SignIn, SignUp, ForgotPassword, ResetPassword, VerifyEmail } from '@insforge/react';
import Layout from './components/Layout';
import Home from './pages/Home';
import Dashboard from './pages/Dashboard';

const router = createBrowserRouter([
  {
    path: '/',
    element: <Layout />,
    children: [
      { index: true, element: <Home /> },
      
      // Required: callback route for OAuth
      { 
        path: 'auth/callback', 
        element: <InsforgeCallback redirectTo="/dashboard" />
      },
      
      // Use package components
      { 
        path: 'sign-in', 
        element: (
          <div className="min-h-screen flex items-center justify-center">
            <SignIn afterSignInUrl="/dashboard" />
          </div>
        )
      },
      { 
        path: 'sign-up', 
        element: (
          <div className="min-h-screen flex items-center justify-center">
            <SignUp afterSignUpUrl="/dashboard" />
          </div>
        )
      },
      { 
        path: 'forgot-password', 
        element: (
          <div className="min-h-screen flex items-center justify-center">
            <ForgotPassword backToSignInUrl="/sign-in" />
          </div>
        )
      },
      { 
        path: 'reset-password', 
        element: (
          <div className="min-h-screen flex items-center justify-center">
            <ResetPassword backToSignInUrl="/sign-in" />
          </div>
        )
      },
      { 
        path: 'verify-email', 
        element: (
          <div className="min-h-screen flex items-center justify-center">
            <VerifyEmail />
          </div>
        )
      },
      
      { path: 'dashboard', element: <Dashboard /> }
    ]
  }
]);

export default function App() {
  return <RouterProvider router={router} />;
}
```

<Note>
With custom components, you don't need `getInsforgeRoutes()`. Just create the callback route manually for OAuth support.
</Note>

## How It Works

### Built-in Auth Flow

```
1. User clicks "Sign In" â†’ Visits /sign-in route
   â†“
2. getInsforgeRoutes() redirects â†’ your-project.insforge.app/auth/sign-in
   â†“
3. User signs in on deployed page â†’ Backend processes authentication
   â†“
4. Backend redirects â†’ yourapp.com/auth/callback?access_token=xxx&user_id=xxx
   â†“
5. <InsforgeCallback /> component:
   - Extracts token from URL
   - Saves to localStorage
   - Verifies with getCurrentUser()
   - Updates Provider state
   - Redirects to destination
   â†“
6. User sees authenticated UI â†’ Dashboard
```

### Custom UI Flow

```
1. User visits /sign-in route â†’ Renders <SignIn> component
   â†“
2. User enters credentials â†’ Component calls SDK methods
   â†“
3. SDK communicates with backend â†’ Returns auth token
   â†“
4. Provider updates auth state â†’ Components re-render
   â†“
5. User sees authenticated UI â†’ Redirect to dashboard
```

**Architecture:**
- **InsforgeProvider**: Manages authentication state globally using React Context
- **getInsforgeRoutes()**: Creates redirect routes for built-in auth (similar to Next.js middleware)
- **InsforgeCallback**: Handles authentication callback, processes tokens, and updates Provider state
- **SDK Integration**: All auth operations go through `@insforge/sdk`
- **React Context**: Provides auth state to all child components
- **Hooks**: Easy access to auth methods and user data

## Environment Variables

```bash .env
VITE_INSFORGE_BASE_URL=https://your-project.insforge.app/
```

---

## Complete Components (with Business Logic)

These components include full authentication logic and work out of the box.

### `<SignIn />`

Complete sign-in component with email/password and OAuth:

```tsx
import { SignIn } from '@insforge/react';

function SignInPage() {
  return (
    <SignIn
      afterSignInUrl="/dashboard"
      signUpUrl="/sign-up"
      forgotPasswordUrl="/forgot-password"
      title="Welcome Back"
      subtitle="Sign in to continue"
      onSuccess={(user, accessToken) => {
        console.log('Signed in:', user);
      }}
      onError={(error) => {
        console.error('Error:', error);
      }}
    />
  );
}
```

**Key Features:**
- Email/password authentication
- OAuth provider buttons (auto-detected from backend)
- Password visibility toggle
- Error handling
- Loading states
- Customizable text and styling

**Props:**
- `afterSignInUrl` - Redirect URL after successful sign in
- `signUpUrl` - Link to sign up page
- `forgotPasswordUrl` - Link to forgot password page
- `onSuccess` - Callback on successful authentication
- `onError` - Callback on error
- `onRedirect` - Custom redirect handler
- `title` / `subtitle` - Custom heading text
- `appearance` - Tailwind CSS classes for styling (see [Customization](/core-concepts/authentication/ui-components/customization))

### `<SignUp />`

Complete sign-up component with password strength validation:

```tsx
import { SignUp } from '@insforge/react';

function SignUpPage() {
  return (
    <SignUp
      afterSignUpUrl="/onboarding"
      signInUrl="/sign-in"
      onSuccess={(user, accessToken) => {
        console.log('Account created:', user);
      }}
      title="Create Account"
      subtitle="Get started with your free account"
    />
  );
}
```

**Key Features:**
- Email/password registration
- Real-time password strength indicator
- OAuth provider buttons
- Form validation
- Customizable requirements

**Props:** Same as `<SignIn>`, plus:
- `afterSignUpUrl` - Redirect URL after successful sign up

### `<UserButton />`

User profile dropdown with sign-out:

```tsx
import { UserButton } from '@insforge/react';

function Header() {
  return (
    <header>
      <nav>
        {/* Your navigation */}
      </nav>
      <UserButton 
        afterSignOutUrl="/"
        mode="detailed"
      />
    </header>
  );
}
```

**Modes:**
- `detailed` (default): Shows avatar + name + email
- `simple`: Shows avatar only

**Props:**
- `mode` - Display mode: `"detailed"` or `"simple"`
- `afterSignOutUrl` - Redirect URL after sign out
- `appearance` - Tailwind classes for styling (see [Customization](/core-concepts/authentication/ui-components/customization))

### `<ForgotPassword />`

Complete password reset flow with automatic method detection:

```tsx
import { ForgotPassword } from '@insforge/react';

function ForgotPasswordPage() {
  return (
    <ForgotPassword
      backToSignInUrl="/sign-in"
      onSuccess={() => {
        console.log('Password reset initiated');
      }}
      onError={(error) => {
        console.error('Error:', error);
      }}
    />
  );
}
```

**Key Features:**
- Auto-detects reset method (code or link) from backend config
- **Link method**: Sends email with reset link
- **Code method**: Three-step flow (email â†’ verify code â†’ reset password)
- 60-second countdown timer for resend
- Built-in form validation
- Customizable text and styling

**Props:**
- `backToSignInUrl` - Link back to sign in page
- `onSuccess` - Callback when password reset completes
- `onError` - Callback on error
- `title` / `subtitle` - Custom heading text
- `appearance` - Tailwind CSS classes for styling

### `<ResetPassword />`

Complete password reset with token verification:

```tsx
import { ResetPassword } from '@insforge/react';
import { useSearchParams } from 'react-router-dom';

function ResetPasswordPage() {
  const [searchParams] = useSearchParams();
  const token = searchParams.get('token');

  return (
    <ResetPassword
      token={token || ''}
      backToSignInUrl="/sign-in"
      onSuccess={(redirectTo) => {
        console.log('Password reset successful');
        if (redirectTo) {
          window.location.href = redirectTo;
        }
      }}
    />
  );
}
```

**Key Features:**
- Password strength validation based on backend config
- Real-time password confirmation matching
- Handles missing or invalid tokens
- Auto-redirect after success
- Customizable text and styling

**Props:**
- `token` - Reset token from URL (required)
- `backToSignInUrl` - Link back to sign in page
- `onSuccess` - Callback with optional redirect URL
- `onError` - Callback on error
- `appearance` - Tailwind CSS classes for styling

### `<VerifyEmail />`

Email verification with token handling:

```tsx
import { VerifyEmail } from '@insforge/react';
import { useSearchParams } from 'react-router-dom';

function VerifyEmailPage() {
  const [searchParams] = useSearchParams();
  const token = searchParams.get('token');

  return (
    <VerifyEmail
      token={token || ''}
      onSuccess={(data) => {
        console.log('Email verified!', data);
        // Optionally save token and redirect
        localStorage.setItem('insforge_token', data.accessToken);
        window.location.href = '/dashboard';
      }}
    />
  );
}
```

**Key Features:**
- Automatic verification on mount
- Success/error/loading states
- Returns access token and user data
- Handles missing or invalid tokens
- Customizable success/error messages

**Props:**
- `token` - Verification token from URL (required)
- `onSuccess` - Callback with `{ accessToken, user, redirectTo? }`
- `onError` - Callback on error
- `appearance` - Tailwind CSS classes for styling

### `<Protect />`

Protected content with conditional rendering:

```tsx
import { Protect } from '@insforge/react';

function Dashboard() {
  return (
    <div>
      <h1>Dashboard</h1>
      
      {/* Simple protection */}
      <Protect redirectTo="/sign-in">
        <UserContent />
      </Protect>

      {/* Role-based protection */}
      <Protect
        redirectTo="/unauthorized"
        condition={(user) => user.role === 'admin'}
      >
        <AdminPanel />
      </Protect>

      {/* With fallback */}
      <Protect 
        condition={(user) => user.emailVerified}
        fallback={<VerifyEmailPrompt />}
      >
        <VerifiedUserFeature />
      </Protect>
    </div>
  );
}
```

**Props:**
- `redirectTo` - URL to redirect if not authorized
- `condition` - Custom condition function `(user) => boolean`
- `fallback` - React node to show if not authorized

### `<SignedIn>` / `<SignedOut>`

Conditional rendering based on auth state:

```tsx
import { SignedIn, SignedOut } from '@insforge/react';

function NavBar() {
  return (
    <nav>
      <SignedOut>
        <a href="/sign-in">Sign In</a>
        <a href="/sign-up">Sign Up</a>
      </SignedOut>

      <SignedIn>
        <a href="/dashboard">Dashboard</a>
        <UserButton />
      </SignedIn>
    </nav>
  );
}
```

### `<InsforgeCallback />`

Handles authentication callback after OAuth or email/password sign-in:

```tsx src/pages/AuthCallback.tsx
import { InsforgeCallback } from '@insforge/react';

export default function AuthCallback() {
  return <InsforgeCallback redirectTo="/dashboard" />;
}
```

**Props:**
- `redirectTo` - Custom redirect destination (default: "/")
- `onSuccess` - Success callback
- `onError` - Error callback with error message
- `loadingComponent` - Custom loading UI
- `onRedirect` - Custom redirect handler

---

## Hooks

### `useAuth()`

Access authentication methods and state:

```tsx
import { useAuth } from '@insforge/react';

function LoginButton() {
  const { signIn, signUp, signOut, isSignedIn, isLoaded } = useAuth();

  const handleSignIn = async () => {
    try {
      await signIn('user@example.com', 'password');
    } catch (error) {
      console.error('Sign in failed:', error);
    }
  };

  if (!isLoaded) return <div>Loading...</div>;

  return (
    <button onClick={isSignedIn ? signOut : handleSignIn}>
      {isSignedIn ? 'Sign Out' : 'Sign In'}
    </button>
  );
}
```

**Returns:**
- `signIn(email, password)` - Sign in with email/password
- `signUp(email, password)` - Sign up new user
- `signOut()` - Sign out current user
- `isSignedIn` - Boolean auth state
- `isLoaded` - Boolean loading state

### `useUser()`

Access current user data:

```tsx
import { useUser } from '@insforge/react';

function UserProfile() {
  const { user, isLoaded, updateUser } = useUser();

  if (!isLoaded) return <div>Loading...</div>;
  if (!user) return <div>Not signed in</div>;

  const handleUpdate = async () => {
    await updateUser({ name: 'New Name' });
  };

  return (
    <div>
      <p>Email: {user.email}</p>
      <p>Name: {user.name}</p>
      <img src={user.avatarUrl} alt="Avatar" />
      <button onClick={handleUpdate}>Update Name</button>
    </div>
  );
}
```

**Returns:**
- `user` - User object with id, email, name, avatarUrl
- `isLoaded` - Boolean loading state
- `updateUser(data)` - Update user profile
- `setUser(user)` - Manually set user state

### `usePublicAuthConfig()`

Get Your authenication config in InsForge:

```tsx
import { usePublicAuthConfig } from '@insforge/react';

function SignInPage() {
  const { oauthProviders, emailConfig, isLoaded } = usePublicAuthConfig();

  if (!isLoaded) return <div>Loading...</div>;

  return (
    <div>
      <p>Available OAuth: {oauthProviders.join(', ')}</p>
      <p>Password min length: {emailConfig?.passwordMinLength}</p>
    </div>
  );
}
```

**Returns:**
- `oauthProviders` - Oauth providers enabled by you.
- `emailConfig` - Your email auth config like password length
- `isLoaded` - Boolean loading state

<Warning>
**Performance**: Only use this hook in SignIn/SignUp components to avoid unnecessary API calls.
</Warning>

---

## Form Components (Pure UI)

Build custom auth flows with pre-built forms. These components are controlledâ€”you manage the state and logic.

### `<SignInForm />`

Pure UI form for sign-in:

```tsx
import { SignInForm } from '@insforge/react';
import { useState } from 'react';

function CustomSignIn() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);
    // Your auth logic
  };

  return (
    <SignInForm
      email={email}
      password={password}
      onEmailChange={setEmail}
      onPasswordChange={setPassword}
      onSubmit={handleSubmit}
      error={error}
      loading={loading}
      availableProviders={['google', 'github']}
      onOAuthClick={(provider) => handleOAuth(provider)}
    />
  );
}
```

**Other Form Components:**
- `<SignUpForm />` - Sign up with password strength indicator
- `<ForgotPasswordForm />` - Request password reset
- `<ResetPasswordForm />` - Reset password with token
- `<VerifyEmailStatus />` - Email verification status

<Info>
**Need atomic components?** See the [Customization Guide](/core-concepts/authentication/ui-components/customization) for building completely custom UIs with atomic building blocks.
</Info>

---

## Advanced Features

### Auth Change Callback

Track authentication state changes:

```tsx
<InsforgeProvider
  baseUrl={baseUrl}
  onAuthChange={(user) => {
    if (user) {
      console.log('User signed in:', user.email);
      analytics.identify(user.id);
    } else {
      console.log('User signed out');
      analytics.reset();
    }
  }}
>
  {children}
</InsforgeProvider>
```

## TypeScript

Full TypeScript support with exported types:

```tsx
import type {
  InsforgeUser,
  SignInProps,
  SignUpProps,
  UserButtonProps,
  ProtectProps,
  ConditionalProps,
  InsforgeCallbackProps,
  ForgotPasswordProps,
  ResetPasswordProps,
  VerifyEmailProps,
  SignInFormProps,
  SignUpFormProps,
  AuthFormFieldProps,
  OAuthProvider,
  EmailAuthConfig,
  InsforgeProviderProps,
  GetInsforgeRoutesConfig,  // Router config type
} from '@insforge/react';
```

---

## OAuth Providers

Built-in support for 10+ OAuth providers:
- Google
- GitHub
- Discord
- Apple
- Microsoft
- Facebook
- LinkedIn
- Instagram
- TikTok
- Spotify
- X (Twitter)

Providers are auto-detected from your backend configuration.

---

## Why @insforge/react?

<CardGroup cols={2}>
  <Card title="vs. Building Custom" icon="hammer">
    5 minutes vs 2+ days of development. Production-ready security built-in.
  </Card>
  
  <Card title="vs. Other Libraries" icon="scale-balanced">
    Complete package (not just UI). Framework agnostic. Self-hosted.
  </Card>
  
  <Card title="For Developers" icon="user">
    Customizable when needed, works out of the box. No framework lock-in.
  </Card>
  
  <Card title="For AI Agents" icon="robot">
    SDK-first approach ensures consistent API. Complete type safety reduces errors.
  </Card>
</CardGroup>

<Note>
**Key Architecture**: This package is framework-agnostic. It works with any React setup and uses `@insforge/sdk` for all backend communication.
</Note>

---

## Resources

<CardGroup cols={3}>
  <Card title="Documentation" icon="book" href="https://docs.insforge.dev/introduction">
    Full documentation
  </Card>
  
  <Card title="GitHub Issues" icon="github" href="https://github.com/InsForge/InsForge/issues">
    Report bugs & request features
  </Card>
  
  <Card title="Discord Community" icon="discord" href="https://discord.com/invite/DvBtaEc9Jz">
    Get help & share feedback
  </Card>
</CardGroup>

